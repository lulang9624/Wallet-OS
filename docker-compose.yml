services:
  # Wallet OS 应用服务
  # Wallet OS application service
  wallet-os:
    build: 
      context: .
      dockerfile: Dockerfile
    # 端口映射: 主机 8081 -> 容器 80
    # Port mapping: Host 8081 -> Container 80
    ports:
      - "8081:80"
    # 数据卷挂载，持久化存储
    # Volume mounting for persistent storage
    volumes:
      - ./wallet_os_data:/app/data
    environment:
      - DATABASE_URL=sqlite:/app/data/wallet-os.db
    # 容器停止后自动重启
    # Automatically restart unless explicitly stopped
    restart: unless-stopped

# 定义数据卷
# Define volumes
volumes:
  wallet_os_data:
